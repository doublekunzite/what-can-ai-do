<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- CRITICAL: Theme script must be FIRST -->
    <script>
        // Apply theme immediately before page renders
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const systemPrefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
            
            // Default to dark mode unless user explicitly chose light
            if (savedTheme === 'light' || (!savedTheme && systemPrefersLight)) {
                document.documentElement.style.backgroundColor = '#1a1a1a';
            }
        })();
    </script>
    
    <title>Prompts - What can I do with AI?</title>
    <link rel="stylesheet" href="css/style.css?v=2">
</head>
<body>
    <main>
        <h1>Prompts & Conversations</h1>
        <p class="subtitle">Real AI conversations showing techniques, results, and lessons learned.</p>
        
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="use-cases.html">Explore Uses</a></li>
                <li><a href="prompts.html">Prompts</a></li>
                <li><a href="risks.html">Learn the Risks</a></li>
                <li><a href="compare.html">Compare Models</a></li>
                <li><a href="faq.html">Common Concerns</a></li>
                <li><a href="how-i-made-this.html">How I Made This</a></li>
            </ul>
        </nav>
        
        <!-- Interactive Filter Controls -->
        <div class="filter-controls">
            <input type="text" id="searchBox" class="search-box" placeholder="Search prompts, responses, or tags...">
            
            <div class="filter-buttons">
                <button class="filter-btn active" data-category="all">All</button>
                <button class="filter-btn" data-category="coding">Coding</button>
                <button class="filter-btn" data-category="writing">Writing</button>
                <button class="filter-btn" data-category="analysis">Analysis</button>
                <button class="filter-btn" data-category="creative">Creative</button>
                <button class="filter-btn" data-category="business">Business</button>
                <button class="filter-btn" data-category="role-based">Role-based</button>
            </div>
            
            <select id="modelSelect" class="model-select">
                <option value="all">All Models</option>
                <option value="kimi">Kimi K2</option>
                <option value="gpt-4">GPT-4</option>
                <option value="claude">Claude</option>
                <option value="gemini">Gemini</option>
            </select>
        </div>
        
        <section id="howToUse">
            <h2>How to Use This Section</h2>
            <p>Each entry below shows a real conversation with AI, including:</p>
            <ul>
                <li>The exact prompt used (click copy button to grab it)</li>
                <li>AI's response (with formatting preserved)</li>
                <li>Key takeaways or techniques demonstrated</li>
                <li>Community ratings and tags for filtering</li>
            </ul>
        </section>
        
        <!-- Conversations Container -->
        <div id="conversationsContainer">
            <!-- Conversations will be dynamically inserted here -->
        </div>
        
        <footer>
            <p><a href="index.html">← Back to Home</a></p>
        </footer>
    </main>
    
    <script>
        // Sample data structure for conversations
        const conversations = [
            {
                id: 1,
                title: "How to Copy Tables from AI Chats",
                date: "2024-11-26",
                model: "kimi",
                modelName: "Kimi K2",
                tags: ["coding", "formatting"],
                rating: 4.5,
                prompt: "How do I copy our conversation including tables while preserving formatting for my website?",
                response: `<p>For tables, use this HTML structure:</p>
                    <pre style="background: #f0f0f0; padding: 1em; overflow-x: auto;"><code>&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Header 1&lt;/th&gt;
      &lt;th&gt;Header 2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;Data 1&lt;/td&gt;
      &lt;td&gt;Data 2&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>`,
                takeaways: [
                    "Convert markdown tables to HTML &lt;table&gt; syntax",
                    "Use &lt;thead&gt; for headers and &lt;tbody&gt; for data",
                    "Wrap code in &lt;pre&gt;&lt;code&gt; blocks for proper formatting"
                ]
            },
            {
                id: 2,
                title: "Role-Based Prompt for Marketing Copy",
                date: "2024-11-25",
                model: "gpt-4",
                modelName: "GPT-4",
                tags: ["writing", "business", "role-based"],
                rating: 4.8,
                prompt: "Act as a senior marketing copywriter with 15 years of experience in SaaS. Write a compelling landing page headline and sub-headline for a new project management tool targeting remote teams. Focus on benefits, not features. Include 3 variations.",
                response: `<p>Here are 3 variations:</p>
                    <h4>Variation 1:</h4>
                    <p><strong>Headline:</strong> Finally, Project Management That Doesn't Feel Like Work</p>
                    <p><strong>Sub-headline:</strong> Your remote team stays aligned effortlessly—so you can ship products people love without the endless status meetings.</p>
                    
                    <h4>Variation 2:</h4>
                    <p><strong>Headline:</strong> Projects Move Forward. Teams Stay Connected. You Stay Sane.</p>
                    <p><strong>Sub-headline:</strong> Built for remote-first companies who've outgrown Slack threads and spreadsheet trackers.</p>
                    
                    <h4>Variation 3:</h4>
                    <p><strong>Headline:</strong> The Last Project Management Tool Your Remote Team Will Ever Need</p>
                    <p><strong>Sub-headline:</strong> Proven workflows that adapt to your team—not the other way around. Onboard in minutes, not weeks.</p>`,
                takeaways: [
                    "Role-definition establishes expertise and tone",
                    "Specific constraints (3 variations) prevent generic output",
                    "Benefit-focused framing resonates more than feature lists"
                ]
            },
            {
                id: 3,
                title: "Data Analysis Prompt for Survey Results",
                date: "2024-11-24",
                model: "claude",
                modelName: "Claude 3.5",
                tags: ["analysis", "coding"],
                rating: 4.3,
                prompt: "I have survey data in CSV format: user_id, satisfaction_rating (1-5), feature_request (text), usage_frequency (daily/weekly/monthly). Analyze this data and provide:\n1. Summary statistics with visualizations\n2. Thematic analysis of feature requests\n3. Correlation between usage frequency and satisfaction\n4. Actionable recommendations\n\nPlease use Python code blocks for any data processing.",
                response: `<p>Here's a comprehensive analysis framework:</p>
                    <pre style="background: #f0f0f0; padding: 1em; overflow-x: auto;"><code>import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns
from collections import Counter

# Load data
df = pd.read_csv('survey_data.csv')

# 1. Summary statistics
print(f"Total responses: {len(df)}")
print(df['satisfaction_rating'].describe())

# Create satisfaction distribution plot
plt.figure(figsize=(10, 6))
sns.countplot(data=df, x='satisfaction_rating', hue='usage_frequency')
plt.title('Satisfaction Distribution by Usage Frequency')
plt.show()</code></pre>
                    <p>Thematic analysis approach: Use TF-IDF vectorization followed by K-means clustering to identify common themes in feature requests.</p>`,
                takeaways: [
                    "Structured multi-part prompts yield comprehensive results",
                    "Specifying output format (code blocks) ensures usable responses",
                    "Including data context helps AI provide relevant analysis"
                ]
            }
        ];
        
        // Store user ratings in localStorage
        const userRatings = JSON.parse(localStorage.getItem('userRatings') || '{}');
        
        // Render conversations
        function renderConversations(filteredConversations = conversations) {
            const container = document.getElementById('conversationsContainer');
            
            if (filteredConversations.length === 0) {
                container.innerHTML = '<div class="no-results">No conversations match your filters. Try adjusting your search.</div>';
                return;
            }
            
            container.innerHTML = filteredConversations.map(conv => {
                const userRating = userRatings[conv.id] || 0;
                const avgRating = conv.rating;
                
                return `
                    <details class="main-dropdown" data-id="${conv.id}" data-categories="${conv.tags.join(' ')}" data-model="${conv.model}">
                        <summary class="dropdown-header">
                            <h2>Conversation: ${conv.title}</h2>
                            <div class="conversation-meta">
                                <p style="margin: 0; font-size: 0.9em; color: #666;">
                                    Date: ${conv.date} | Model: ${conv.modelName}
                                </p>
                                <div class="tags">
                                    ${conv.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                                </div>
                                <div class="rating" data-conversation-id="${conv.id}">
                                    ${[1,2,3,4,5].map(i => `
                                        <span class="star ${i <= userRating ? 'active' : ''}" 
                                              data-rating="${i}"
                                              title="${i <= userRating ? 'Your rating' : 'Click to rate'}">
                                            ★
                                        </span>
                                    `).join('')}
                                    <small style="margin-left: 0.5em; color: #666;">
                                        (${avgRating.toFixed(1)})
                                    </small>
                                </div>
                            </div>
                        </summary>
                        <div class="dropdown-content">
                            <button class="copy-btn" onclick="copyPrompt(${conv.id})">Copy Prompt</button>
                            
                            <h3>Prompt:</h3>
                            <div style="background: #f5f5f5; padding: 1em; border-left: 3px solid #0066cc; margin: 1em 0;">
                                <pre style="margin: 0; white-space: pre-wrap; font-family: inherit;">${conv.prompt}</pre>
                            </div>
                            
                            <h3>Response:</h3>
                            <div style="background: #f9f9f9; padding: 1em; border: 1px solid #ddd; margin: 1em 0;">
                                ${conv.response}
                            </div>
                            
                            <h3>Takeaways:</h3>
                            <ul>
                                ${conv.takeaways.map(takeaway => `<li>${takeaway}</li>`).join('')}
                            </ul>
                        </div>
                    </details>
                `;
            }).join('');
            
            // Re-attach event listeners for ratings
            attachRatingListeners();
        }
        
        // Copy prompt function
        function copyPrompt(convId) {
            const conv = conversations.find(c => c.id === convId);
            navigator.clipboard.writeText(conv.prompt).then(() => {
                // Visual feedback
                const btn = document.querySelector(`[data-id="${convId}"] .copy-btn`);
                const originalText = btn.textContent;
                btn.textContent = 'Copied!';
                setTimeout(() => {
                    btn.textContent = originalText;
                }, 1500);
            });
        }
        
        // Attach rating listeners
        function attachRatingListeners() {
            document.querySelectorAll('.rating').forEach(ratingContainer => {
                const convId = parseInt(ratingContainer.dataset.conversationId);
                const stars = ratingContainer.querySelectorAll('.star');
                
                stars.forEach((star, index) => {
                    star.addEventListener('click', () => {
                        const rating = index + 1;
                        userRatings[convId] = rating;
                        localStorage.setItem('userRatings', JSON.stringify(userRatings));
                        
                        // Update star display
                        stars.forEach((s, i) => {
                            s.classList.toggle('active', i < rating);
                        });
                        
                        // Update average rating (in a real app, this would update the backend)
                        conversations.find(c => c.id === convId).rating = 
                            (conversations.find(c => c.id === convId).rating + rating) / 2;
                    });
                });
            });
        }
        
        // Filter function
        function filterConversations() {
            const searchTerm = document.getElementById('searchBox').value.toLowerCase();
            const selectedCategory = document.querySelector('.filter-btn.active').dataset.category;
            const selectedModel = document.getElementById('modelSelect').value;
            
            const filtered = conversations.filter(conv => {
                // Search filter
                const matchesSearch = !searchTerm || 
                    conv.title.toLowerCase().includes(searchTerm) ||
                    conv.prompt.toLowerCase().includes(searchTerm) ||
                    conv.response.toLowerCase().includes(searchTerm) ||
                    conv.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                
                // Category filter
                const matchesCategory = selectedCategory === 'all' || 
                    conv.tags.includes(selectedCategory);
                
                // Model filter
                const matchesModel = selectedModel === 'all' || 
                    conv.model === selectedModel;
                
                return matchesSearch && matchesCategory && matchesModel;
            });
            
            renderConversations(filtered);
        }
        
        // Event listeners
        document.getElementById('searchBox').addEventListener('input', filterConversations);
        document.getElementById('modelSelect').addEventListener('change', filterConversations);
        
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                filterConversations();
            });
        });
        
        // Initial render
        renderConversations();
    </script>
</body>
</html>